# Ù…Ø­Ù„Ù„ Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ø·ÙˆØ§Ø¨Ù‚ ðŸ—ï¸

Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© ÙˆØ§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³ ÙˆØ§Ù„Ø§Ù…ØªØ«Ø§Ù„ Ù„Ù„ÙƒÙˆØ¯

## ðŸŽ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

**Ù…Ø­Ù„Ù„ Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ø·ÙˆØ§Ø¨Ù‚** Ù‡Ùˆ Ø£Ø¯Ø§Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª ÙˆØ§Ù„Ù…Ø¨Ø§Ù†ÙŠ Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ø³ÙƒÙ†ÙŠØ©.

### Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

#### ðŸ“ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
- **ÙƒØ´Ù Ø§Ù„Ø¬Ø¯Ø±Ø§Ù†**: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Hough Transform Ùˆ RANSAC
- **Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨ ÙˆØ§Ù„Ù†ÙˆØ§ÙØ°**: ÙƒØ´Ù Ø°ÙƒÙŠ Ù„Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©
- **Ø§Ù„ØºØ±Ù ÙˆØ§Ù„Ù…Ù…Ø±Ø§Øª**: ØªÙ‚Ø³ÙŠÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ù…Ø³Ø§Ø­Ø§Øª
- **Ø§Ù„Ø³Ù„Ø§Ù„Ù… ÙˆØ§Ù„Ù…ØµØ§Ø¹Ø¯**: Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠØ©

#### ðŸ“Š Ø§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³ ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª
- **GFA** (Gross Floor Area): Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø·Ø§Ø¨Ù‚
- **NIA** (Net Internal Area): ØµØ§ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©  
- **GLA** (Gross Leasable Area): Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ£Ø¬ÙŠØ±
- **ÙƒÙØ§Ø¡Ø© Ø§Ù„Ù…Ø³Ø§Ø­Ø©**: NIA/GFA
- **Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ù…Ø±Ø§Øª**: Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ù…Ø±Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ÙƒÙ„ÙŠØ©

#### ðŸš¶ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ (Wayfinding)
- **Space Syntax**: Ù…Ø¤Ø´Ø±Ø§Øª Integration Ùˆ Choice
- **Visibility Analysis**: Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø±Ø¤ÙŠØ© Ùˆ Isovists
- **Decision Points**: Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚Ø±Ø§Ø± ÙˆØ§Ù„Ø§Ù„ØªØ¨Ø§Ø³
- **Ø£Ø·ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª**: Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…Ø³Ø§ÙØ§Øª ÙˆØ§Ù„Ø§Ù†Ø¹Ø·Ø§ÙØ§Øª
- **ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù„ÙˆØ­Ø§Øª**: Ø£Ù…Ø§ÙƒÙ† Ù…Ø«Ù„Ù‰ Ù„Ù„ÙˆØ­Ø§Øª Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ÙŠØ©

#### âœ… ÙØ­Øµ Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„ Ù„Ù„ÙƒÙˆØ¯
- **Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ SBC**: Ø§Ø´ØªØ±Ø§Ø·Ø§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ
- **Fire Safety**: ÙØ­Øµ Ø§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ù„Ø¥Ø®Ù„Ø§Ø¡
- **ADA Compliance**: Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø´Ø§Ù…Ù„
- **Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù…Ø±Ø§Øª**: ÙØ­Øµ Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø¯Ù†ÙŠØ§
- **Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ù‡Ø±ÙˆØ¨**: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø¥Ø®Ù„Ø§Ø¡

#### ðŸŽ¨ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù„ÙˆÙ†ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… (Ø¬Ø¯ÙŠØ¯!)
- **Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø³Ø§Ø¦Ø¯Ø©**: K-Means clustering
- **Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù†**: Color palette ÙƒØ§Ù…Ù„Ø©
- **Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª**: Ø§Ù„Ø³Ø·ÙˆØ¹ØŒ Ø§Ù„ØªØ¨Ø§ÙŠÙ†ØŒ Ø§Ù„ØªØ´Ø¨Ø¹
- **Ø§Ù„Ø®Ø±Ø§Ø¦Ø· Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©**: Heatmaps Ù„Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ù„ÙˆÙ†ÙŠØ©
- **Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù„ÙˆÙ†ÙŠ**: ØªØ­Ù„ÙŠÙ„ ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙÙŠ Ø§Ù„Ù…Ø®Ø·Ø·
- **Ø§Ù„ØªÙˆØµÙŠØ§Øª**: Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù„ÙŠÙ„

#### ðŸ“ˆ Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ©
- **Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø­Ø§Øª**: ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§Ø­Ø§Øª Ø¨Ø§Ù„ØºØ±Ù
- **Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„**: Ù†Ø³Ø¨ Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ÙƒÙˆØ¯
- **Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØ¬ÙŠÙ‡**: ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª
- **Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù†**: Ø¹Ø±Ø¶ ØªÙØ§Ø¹Ù„ÙŠ Ù„Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù†

## ðŸ—ï¸ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### Stack Ø§Ù„ØªÙ‚Ù†ÙŠ

```
Backend:
â”œâ”€â”€ FastAPI (Python 3.11)
â”œâ”€â”€ OpenCV + scikit-image (Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØµÙˆØ±)
â”œâ”€â”€ PyTorch + Ultralytics (Deep Learning)
â”œâ”€â”€ NetworkX + iGraph (ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø´Ø¨ÙƒØ§Øª)
â”œâ”€â”€ PostgreSQL + PostGIS (Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
â””â”€â”€ Redis (Caching)

Frontend:
â”œâ”€â”€ React 18
â”œâ”€â”€ TailwindCSS
â”œâ”€â”€ Chart.js (Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©)
â””â”€â”€ Axios (HTTP Client)

Infrastructure:
â”œâ”€â”€ Docker + Docker Compose
â”œâ”€â”€ Nginx (Reverse Proxy)
â””â”€â”€ SSL/TLS
```

### Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```
floor-plan-analyzer/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ parser/               # Ù…Ø¹Ø§Ù„Ø¬Ø© PDF/DWG/ØµÙˆØ±
â”‚   â”œâ”€â”€ detection/            # ÙƒØ´Ù Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨/Ø§Ù„Ø¬Ø¯Ø±Ø§Ù†
â”‚   â”œâ”€â”€ analysis/             # Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ø­Ø§Øª ÙˆØ§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³
â”‚   â”œâ”€â”€ wayfinding/           # ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙˆØ¬ÙŠÙ‡
â”‚   â”œâ”€â”€ compliance/           # ÙØ­Øµ Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„
â”‚   â”œâ”€â”€ coloranalysis/        # Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù„ÙˆÙ†ÙŠ (Ø¬Ø¯ÙŠØ¯!)
â”‚   â”œâ”€â”€ api/                  # FastAPI endpoints
â”‚   â””â”€â”€ config.py             # Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
â”œâ”€â”€ frontend/                 # ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ÙˆÙŠØ¨
â”œâ”€â”€ models/                   # Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¹Ù…ÙŠÙ‚
â”œâ”€â”€ tests/                    # Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
â”œâ”€â”€ infra/                    # Ù…Ù„ÙØ§Øª Ø§Ù„Ù†Ø´Ø±
â”‚   â”œâ”€â”€ deploy.sh             # Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ù†Ø´Ø±
â”‚   â”œâ”€â”€ update.sh             # Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„ØªØ­Ø¯ÙŠØ«
â”‚   â””â”€â”€ nginx.conf            # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Nginx
â”œâ”€â”€ docker-compose.yml        # Docker configuration
â””â”€â”€ README_AR.md              # Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù
```

## ðŸ“¦ Ø§Ù„ØªØ«Ø¨ÙŠØª ÙˆØ§Ù„Ù†Ø´Ø±

### Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

- **VPS** Ù…Ø¹ Ubuntu 20.04+ Ø£Ùˆ Debian 11+
- **Docker** Ùˆ **Docker Compose**
- **4GB RAM** Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„
- **20GB** Ù…Ø³Ø§Ø­Ø© ØªØ®Ø²ÙŠÙ†

### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¹Ø¯Ø§Ø¯ VPS

```bash
# ØªØ«Ø¨ÙŠØª Docker
curl -fsSL https://get.docker.com | bash

# ØªØ«Ø¨ÙŠØª Docker Compose
sudo apt-get update
sudo apt-get install docker-compose-plugin

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ«Ø¨ÙŠØª
docker --version
docker compose version
```

### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ù†Ù‚Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ù„Ù„Ù€ VPS

```bash
# Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠØŒ Ù‚Ù… Ø¨Ø¶ØºØ· Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
tar -czf fpa.tar.gz floor-plan-analyzer/

# Ù†Ù‚Ù„ Ù„Ù„Ù€ VPS Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… scp
scp fpa.tar.gz root@77.37.35.25:/root/

# Ø¹Ù„Ù‰ Ø§Ù„Ù€ VPSØŒ ÙÙƒ Ø§Ù„Ø¶ØºØ·
ssh root@77.37.35.25
cd /root
tar -xzf fpa.tar.gz
cd floor-plan-analyzer
```

### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©

```bash
# Ù†Ø³Ø® Ù…Ù„Ù Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
cp .env.example .env

# ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
nano .env
```

**Ù…ØªØºÙŠØ±Ø§Øª Ù…Ù‡Ù…Ø© ÙŠØ¬Ø¨ ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§:**

```env
# Database
DB_PASSWORD=Ù‚Ù…_Ø¨ØªØºÙŠÙŠØ±_Ù‡Ø°Ø§_Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯

# Security
SECRET_KEY=Ù‚Ù…_Ø¨ØªÙˆÙ„ÙŠØ¯_Ù…ÙØªØ§Ø­_Ø¢Ù…Ù†_Ù‡Ù†Ø§

# API
API_WORKERS=4  # Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (workers)
MAX_CONCURRENT_JOBS=5

# Domains
ALLOWED_ORIGINS=https://flows.aqeeli.com,https://wfapi.aqeeli.com
```

### Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø§Ù„Ù†Ø´Ø±

```bash
# ØªØ´ØºÙŠÙ„ Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ù†Ø´Ø±
chmod +x infra/deploy.sh
sudo ./infra/deploy.sh
```

**Ø³ÙŠÙ‚ÙˆÙ… Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø¨Ù€:**
1. âœ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
2. âœ… Ù†Ø³Ø® Ø§Ù„Ù…Ù„ÙØ§Øª
3. âœ… Ø¨Ù†Ø§Ø¡ ØµÙˆØ± Docker
4. âœ… ØªØ´ØºÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
5. âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµØ­Ø©

### Ø§Ù„Ø®Ø·ÙˆØ© 5: Ø§Ù„ØªØ­Ù‚Ù‚

```bash
# ÙØ­Øµ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
docker ps

# ÙØ­Øµ Ø§Ù„ØµØ­Ø©
curl http://localhost:8000/health

# Ø¹Ø±Ø¶ Logs
docker logs -f fpa_api
```

## ðŸš€ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### API Endpoints

#### 1. ØªØ­Ù„ÙŠÙ„ Ù…Ø®Ø·Ø·

```bash
POST /api/analyze
Content-Type: multipart/form-data

Parameters:
  - file: Ù…Ù„Ù Ø§Ù„Ù…Ø®Ø·Ø· (PDF, PNG, JPG, DWG)
  - scale: Ù…Ù‚ÙŠØ§Ø³ Ø§Ù„Ø±Ø³Ù… (optional)
  - unit: ÙˆØ­Ø¯Ø© Ø§Ù„Ù‚ÙŠØ§Ø³ (meters/feet)
  - building_type: Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¨Ù†Ù‰ (hospital/office/residential)
  - enable_color_analysis: ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù„ÙˆÙ†ÙŠ (true/false)

Response:
{
  "job_id": "uuid",
  "status": "processing",
  "message": "ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…Ù„Ù",
  "estimated_time": "2-5 Ø¯Ù‚Ø§Ø¦Ù‚"
}
```

**Ù…Ø«Ø§Ù„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… curl:**

```bash
curl -X POST http://localhost:8000/api/analyze \
  -F "file=@hospital_floor_plan.pdf" \
  -F "scale=100" \
  -F "unit=meters" \
  -F "building_type=hospital" \
  -F "enable_color_analysis=true"
```

#### 2. Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù‡Ù…Ø©

```bash
GET /api/status/{job_id}

Response:
{
  "job_id": "uuid",
  "status": "completed",
  "progress": 100,
  "message": "Ø§ÙƒØªÙ…Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„",
  "result": { ... }
}
```

#### 3. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚Ø±ÙŠØ±

```bash
GET /api/report/{job_id}?format=json

Formats: json, pdf, csv, excel
```

### Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù†ØªÙŠØ¬Ø©

```json
{
  "job_id": "abc-123",
  "metadata": {
    "filename": "hospital_plan.pdf",
    "scale": 100,
    "unit": "meters",
    "building_type": "hospital"
  },
  "elements": {
    "rooms": 45,
    "doors": 78,
    "corridors": 12,
    "stairs": 3
  },
  "metrics": {
    "gfa": 1850.5,
    "nia": 1340.2,
    "gla": 1210.8,
    "efficiency": 0.72,
    "circulation_ratio": 0.23
  },
  "wayfinding": {
    "avg_path_length": 42.7,
    "avg_turns": 3.1,
    "decision_points": 14,
    "complexity_score": 68.5
  },
  "compliance": {
    "overall_score": 85.3,
    "passed": 42,
    "failed": 7,
    "critical_issues": 2
  },
  "color_analysis": {
    "dominant_colors": [
      {
        "rgb": [255, 255, 255],
        "hex": "#ffffff",
        "percentage": 45.2,
        "name": "Ø£Ø¨ÙŠØ¶"
      }
    ],
    "statistics": {
      "brightness_avg": 185.3,
      "contrast_ratio": 3.2,
      "temperature": "cool"
    }
  }
}
```

## ðŸ”§ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ù„ØµÙŠØ§Ù†Ø©

### Ø¹Ø±Ø¶ Logs

```bash
# Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
docker-compose logs -f

# API ÙÙ‚Ø·
docker-compose logs -f api

# Database ÙÙ‚Ø·
docker-compose logs -f db
```

### Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„

```bash
# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø®Ø¯Ù…Ø© ÙˆØ§Ø­Ø¯Ø©
docker-compose restart api

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒÙ„
docker-compose restart
```

### Ø§Ù„ØªØ­Ø¯ÙŠØ«

```bash
# Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„ØªØ­Ø¯ÙŠØ«
./infra/update.sh

# Ø£Ùˆ ÙŠØ¯ÙˆÙŠØ§Ù‹
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

### Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ

```bash
# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù„Ù‚Ø§Ø¹Ø¯Ø©
docker exec fpa_database pg_dump -U fpa_user fpa_db > backup.sql

# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª
tar -czf data_backup.tar.gz data/

# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙƒØ§Ù…Ù„
tar -czf full_backup.tar.gz /opt/floor-plan-analyzer/
```

### Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©

```bash
# Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©
docker exec -i fpa_database psql -U fpa_user fpa_db < backup.sql
```

## ðŸŒ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ø·Ø§Ù‚ (Domain)

### Nginx Reverse Proxy

Ø£Ù†Ø´Ø¦ Ù…Ù„Ù `/opt/floor-plan-analyzer/infra/nginx.conf`:

```nginx
server {
    listen 80;
    server_name flows.aqeeli.com wfapi.aqeeli.com;

    client_max_body_size 50M;

    location / {
        proxy_pass http://api:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    location /static/ {
        alias /usr/share/nginx/html/;
    }
}
```

### SSL Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Certbot

```bash
# ØªØ«Ø¨ÙŠØª Certbot
sudo apt-get install certbot python3-certbot-nginx

# Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø´Ù‡Ø§Ø¯Ø© SSL
sudo certbot --nginx -d flows.aqeeli.com -d wfapi.aqeeli.com

# Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
sudo certbot renew --dry-run
```

## ðŸ“Š Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡

### Metrics

```bash
# Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°Ø§ÙƒØ±Ø©
docker stats

# Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù‚Ø±Øµ
df -h /opt/floor-plan-analyzer/data/

# Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
curl http://localhost:8000/api/stats
```

### Health Checks

```bash
# API Health
curl http://localhost:8000/health

# Database Health
docker exec fpa_database pg_isready -U fpa_user

# Redis Health
docker exec fpa_redis redis-cli ping
```

## ðŸ› Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: API Ù„Ø§ ÙŠØ³ØªØ¬ÙŠØ¨

```bash
# ÙØ­Øµ Ø§Ù„Ù€ logs
docker logs fpa_api

# Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
docker-compose restart api
```

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Ù†ÙØ§Ø° Ø§Ù„Ø°Ø§ÙƒØ±Ø©

```bash
# Ø²ÙŠØ§Ø¯Ø© Ø­Ø¯ Ø§Ù„Ø°Ø§ÙƒØ±Ø© ÙÙŠ docker-compose.yml
services:
  api:
    deploy:
      resources:
        limits:
          memory: 4G
```

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Ø¨Ø·Ø¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©

- Ù‚Ù„Ù„ Ø¹Ø¯Ø¯ `MAX_CONCURRENT_JOBS` ÙÙŠ `.env`
- Ø²Ø¯ Ø¹Ø¯Ø¯ `API_WORKERS`
- ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ÙˆØ§Ø±Ø¯ VPS

## ðŸ“ž Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©

### Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ù…Ø´ÙƒÙ„Ø©

Ø§ÙØªØ­ Issue ÙÙŠ GitHub Ù…Ø¹:
- ÙˆØµÙ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©
- Ø®Ø·ÙˆØ§Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬
- Logs Ø°Ø§Øª Ø§Ù„ØµÙ„Ø©

### Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©

1. Fork Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
2. Ø£Ù†Ø´Ø¦ ÙØ±Ø¹ Ù„Ù„Ù…ÙŠØ²Ø© (`git checkout -b feature/AmazingFeature`)
3. Commit Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª (`git commit -m 'Add AmazingFeature'`)
4. Push Ù„Ù„ÙØ±Ø¹ (`git push origin feature/AmazingFeature`)
5. Ø§ÙØªØ­ Pull Request

## ðŸ“„ Ø§Ù„ØªØ±Ø®ÙŠØµ

MIT License - Ø§Ù†Ø¸Ø± Ù…Ù„Ù [LICENSE](LICENSE) Ù„Ù„ØªÙØ§ØµÙŠÙ„

## ðŸ™ Ø´ÙƒØ± ÙˆØªÙ‚Ø¯ÙŠØ±

- **OpenCV** - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØµÙˆØ±
- **FastAPI** - Ø¥Ø·Ø§Ø± Ø¹Ù…Ù„ API
- **PostgreSQL** - Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- **Docker** - Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª

---

**ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø©** Ù…Ø­Ù„Ù„ Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ø·ÙˆØ§Ø¨Ù‚ - 2024

Ù„Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§Ù„Ø¯Ø¹Ù…: [GitHub Issues](https://github.com/yourusername/floor-plan-analyzer/issues)
