# ================================================
# Floor Plan Analyzer - Production Configuration
# Domain: aqeeli.com
# ================================================

# Environment
FPA_ENV=production

# API Settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# ================================================
# DOMAIN & SSL CONFIGURATION
# ================================================
# استخدم أحد النطاقات الفرعية المتاحة:
# - flows.aqeeli.com (77.37.35.25)
# - wfapi.aqeeli.com (77.37.35.25)
# أو أضف سجل A جديد باسم wayfinding.aqeeli.com

DOMAIN=wfapi.aqeeli.com
LETSENCRYPT_EMAIL=admin@aqeeli.com

# ================================================
# SECURITY SETTINGS
# ================================================
# قم بتغيير هذا المفتاح إلى مفتاح عشوائي قوي (32+ حرف)
SECRET_KEY=WayfindingAcademic2025_SecureKey_ChangeThis_RandomString

# النطاقات المسموحة (CORS)
ALLOWED_ORIGINS=https://wfapi.aqeeli.com,https://flows.aqeeli.com,https://aqeeli.com,https://www.aqeeli.com

# ================================================
# DATABASE CONFIGURATION (Optional - if using PostgreSQL)
# ================================================
# إذا كنت تستخدم قاعدة بيانات خارجية، غيّر هذه القيم
# DATABASE_URL=postgresql://fpa_user:STRONG_PASSWORD_HERE@localhost:5432/fpa_db
# DB_POOL_SIZE=10
# DB_MAX_OVERFLOW=20

# ================================================
# REDIS CACHE (Optional)
# ================================================
# REDIS_URL=redis://localhost:6379/0
# CACHE_TTL=3600

# ================================================
# FILE STORAGE
# ================================================
UPLOAD_DIR=/app/data/uploads
OUTPUT_DIR=/app/data/outputs
CACHE_DIR=/app/data/cache
MAX_UPLOAD_SIZE=104857600  # 100MB

# ================================================
# PROCESSING LIMITS
# ================================================
MAX_CONCURRENT_JOBS=5
JOB_TIMEOUT=600  # 10 minutes

# ================================================
# ACADEMIC ANALYSIS SETTINGS
# ================================================
# تفعيل المحللات الأكاديمية
ENABLE_SPACE_SYNTAX=true
ENABLE_VGA=true
ENABLE_AGENT_SIMULATION=true
ENABLE_HEATMAPS=true
ENABLE_RECOMMENDATIONS=true

# حدود الأداء
VGA_SAMPLE_LIMIT=5000
SIMULATION_AGENTS_PER_SCENARIO=50
MAX_GRAPH_NODES=1000
HEATMAP_RESOLUTION=high

# ================================================
# OCR SETTINGS (Optional)
# ================================================
TESSERACT_LANG=ara+eng
OCR_DPI=300
ENABLE_EASYOCR=false

# ================================================
# DETECTION MODELS (Optional)
# ================================================
YOLO_MODEL=yolov8n.pt
YOLO_CONFIDENCE=0.5
YOLO_IOU=0.45

# ================================================
# ANALYSIS DEFAULTS
# ================================================
DEFAULT_SCALE_UNIT=meters
MIN_ROOM_AREA=2.0  # m²
MIN_CORRIDOR_WIDTH=1.2  # m
MAX_EGRESS_DISTANCE=60.0  # m

# ================================================
# COLOR ANALYSIS
# ================================================
COLOR_PALETTE_SIZE=10
COLOR_SIMILARITY_THRESHOLD=30

# ================================================
# COMPLIANCE STANDARDS
# ================================================
DEFAULT_BUILDING_CODE=saudi_sbc
ENABLE_ADA_CHECK=true
ENABLE_FIRE_SAFETY_CHECK=true

# ================================================
# MONITORING & LOGGING
# ================================================
LOG_LEVEL=INFO
ENABLE_METRICS=true
SENTRY_DSN=

# ================================================
# EXTERNAL SERVICES (Optional)
# ================================================
POWERBI_API_KEY=
IFC_EXPORT_ENABLED=true

# ================================================
# WES SCORE WEIGHTS (Configurable)
# ================================================
WES_WEIGHT_TIME=15
WES_WEIGHT_DETOUR=10
WES_WEIGHT_ERRORS=20
WES_WEIGHT_HESITATIONS=10
WES_WEIGHT_VISUAL_INTEGRATION=20
WES_WEIGHT_SIGNAGE=15
WES_WEIGHT_ACCESSIBILITY=10

# ================================================
# NOTES:
# ================================================
# 1. غيّر SECRET_KEY إلى مفتاح عشوائي قوي
# 2. تأكد من أن DOMAIN يشير إلى نطاقك الصحيح
# 3. تأكد من أن سجل A في DNS يشير إلى IP الخادم
# 4. بعد التعديل، نفّذ:
#    docker-compose down
#    docker-compose up -d
#    sudo certbot --nginx -d wfapi.aqeeli.com
